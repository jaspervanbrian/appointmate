<!DOCTYPE html>
<html>
  <head>
    <title>AppointMate</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="stripe-public-key" content="<%= Rails.application.credentials.dig(:stripe, :public_key) %>">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <%= stylesheet_link_tag "application", "actiontext", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <%= turbo_stream.prepend "flash", partial: "layouts/flash" %>

    <div class="flash">
      <%= render "layouts/flash" %>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white px-4 px-lg-5 py-3 py-lg-0 position-static">
      <a href="/" class="navbar-brand p-0">
        <h1 class="text-primary m-0"><i class="fas fa-star-of-life me-3"></i>AppointMate</h1>
        <%# image_tag("logo.png" alt: "Logo") %>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="fa fa-bars"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto py-0">
          <%= link_to "Dashboard", patient_dashboard_path, class: "nav-item nav-link #{is_active?('/patient/dashboard')}", data: { turbo: false } %>
          <%= link_to "Edit Profile", edit_patient_registration_path, class: "nav-item nav-link #{is_active?('/patients/edit')}" %>
          <%= button_to "Log Out", destroy_patient_session_path, method: :delete, class: "nav-item nav-link" %>
        </div>
      </div>
    </nav>

    <%= yield %>

    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <%= javascript_include_tag 'custom/wow.js' %>
    <%= javascript_include_tag 'custom/easing.js' %>
    <%= javascript_include_tag 'custom/waypoints.min.js' %>
    <%= javascript_include_tag 'custom/owl.carousel.js' %>
    <%= javascript_include_tag 'custom/main.js' %>
    <%= javascript_include_tag 'https://js.stripe.com/v3/', 'data-turbolinks-track': 'reload' %>
  </body>
</html>
